public class AccountContactiDsSetup {
    public static void main(id contid){
        //get account record form given @param id
	if(contid !=null){
        Account accountrecords = [Select Id,Name,ContactIDs__c from Account Where Id IN (Select AccountId from Contact Where id=:contid)];
        
        if(accountrecords.ContactIDs__c == Null){
            //Get records of contact whose accountId is assosiate with accountrecords id
            List<Contact> contactrecord = [Select Id from Contact Where AccountId =:accountrecords.Id];
            	
            String[] temp = New String[]{};
            String idString;
            	//add all contact ids in temp list
            for(Contact c : contactrecord){
                 temp.add(c.id);
             }
             //create a comma saperated string
            idString = String.join(temp,',');
            accountrecords.ContactIDs__c=idString;
            update accountrecords;
           
        }else{
            //if accountrecords contactIds not nulll then check and add into it.
			
            List<String> contactidsList = accountrecords.ContactIDs__c.split(',');
            Integer flag=1;
            for(Integer i =0;i<contactidsList.size();i++){
                if(contactidsList[i]==contid){
                    flag=0;
                    break;
                }
            }
            if(flag==1){
                contactidsList.add(contid);
                String idString = String.join(contactidsList,',');
                accountrecords.ContactIDs__c=idString;
                update accountrecords;
                 }
        }
     }  
    }
}

//AccountContactiDsSetup.main('0032w00000FYcvBAAT');