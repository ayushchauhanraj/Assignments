//trigger 

trigger opportunityupdateTrigger on Opportunity (after update) {
    	List<Opportunity> opportunityList = [Select id,BillToContact__c,Manager__c from Opportunity where id In :Trigger.new];
        //calling class
	OpportunityMangerSetup.setManagerField(opportunityList);
 }

//class to set the manager 
public class OpportunityManager {
    public static void setMangerField(List<Opportunity> opportunityList){
    List<opportunity> newOpportunityList=new List<Opportunity>();
    for(Opportunity singleOpportunity : opportunityList){
         if(singleOpportunity.BillToContact__c !=null && singleOpportunity.Manager__c == null){
          Contact accountid = [Select AccountId from Contact Where Id=:singleOpportunity.BillToContact__c] ;
	  if(accountid!=null){
            singleOpportunity.Manager__c=accountid.AccountId;
      		newOpportunityList.add(singleOpportunity);
            }
	    }
        }
	if(newOpportunityList.size()>0){
         update newOpportunityList;
        }
    }
}

